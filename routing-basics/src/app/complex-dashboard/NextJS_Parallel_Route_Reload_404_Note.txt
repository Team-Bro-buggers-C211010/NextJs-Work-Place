=======================================================
ğŸ§  Why Reloading a Parallel Route Like `/archived` Causes 404
=======================================================

ğŸ“ Scenario Setup:

You are using Next.js Parallel Routes with three slots:
- @revenue
- @notifications
- @user-analytics

You created a route:
- app/dashboard/@notifications/archived/page.tsx â†’ /dashboard/archived

You visit: **/dashboard/archived**

Everything works fine in client-side navigation (e.g., via <Link>), but...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ Problem: Reloading `/dashboard/archived` causes a 404 page

Why?

Because:
- Parallel routes rely on **all active slots being resolvable** from the URL.
- On reload, **Next.js tries to resolve all slots** in the layout.
- If any required slot (like @revenue or @user-analytics) **has no matching route** AND no `default.tsx`, that segment is **missing**, and Next.js treats the route as **incomplete â†’ 404**.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Solution: Use `default.tsx` in all unmatched slots

To prevent this issue, create:

app/
  dashboard/
    @revenue/
      default.tsx
    @notifications/
      archived/
        page.tsx
    @user-analytics/
      default.tsx

Now:
- Visiting `/dashboard/archived` will render:
  - `@notifications/archived/page.tsx`
  - `@revenue/default.tsx`
  - `@user-analytics/default.tsx`

âœ… No 404
âœ… All slots resolved
âœ… Layout loads fully and predictably

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§  Why It Happens

- On navigation (<Link href="/archived">), client-side rendering already loaded layout context, so it works.
- On full page refresh (server render), Next.js must statically resolve **all active routes for all slots**.
- If any are missing and no fallback (`default.tsx`) is defined â†’ route becomes invalid â†’ 404.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“š Summary

âœ… Always define `default.tsx` for each named slot unless it's guaranteed to be matched.  
âœ… This ensures full route resolution and avoids unexpected 404s on reload.  
âœ… Applies especially to **deeply nested layouts** or **split-panel dashboards**.  
âœ… Client-side works due to shared context; SSR requires explicit slot resolution.

ğŸ¯ Best practice: Use `default.tsx` in all parallel slots unless theyâ€™re always matched in every route.
